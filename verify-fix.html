<!DOCTYPE html>
<html>
<head>
    <title>éªŒè¯ "ä¸‹å‘¨ä¸‰9ç‚¹" ä¿®å¤</title>
    <meta charset="UTF-8">
</head>
<body>
    <h1>ğŸ§ª éªŒè¯ "ä¸‹å‘¨ä¸‰9ç‚¹" è§£æä¿®å¤</h1>
    <p>å½“å‰æ—¶é—´: <span id="currentTime"></span></p>
    
    <div>
        <h2>æµ‹è¯•ç”¨ä¾‹</h2>
        <button onclick="testCase('ä¸‹å‘¨ä¸‰9ç‚¹')">æµ‹è¯• "ä¸‹å‘¨ä¸‰9ç‚¹"</button>
        <button onclick="testCase('ä¸‹å‘¨ä¸‰')">æµ‹è¯• "ä¸‹å‘¨ä¸‰"ï¼ˆå¯¹ç…§ç»„ï¼‰</button>
        <button onclick="testCase('ä¸‹å‘¨ä¸‰ä¸‹åˆ3ç‚¹')">æµ‹è¯• "ä¸‹å‘¨ä¸‰ä¸‹åˆ3ç‚¹"ï¼ˆå¯¹ç…§ç»„ï¼‰</button>
        <button onclick="testCase('æ˜å¤©8ç‚¹')">æµ‹è¯• "æ˜å¤©8ç‚¹"</button>
        <button onclick="testCase('åå¤©10ç‚¹åŠ')">æµ‹è¯• "åå¤©10ç‚¹åŠ"</button>
    </div>
    
    <div id="results" style="margin-top: 20px; padding: 20px; background: #f5f5f5;"></div>

    <script type="module">
        // æ˜¾ç¤ºå½“å‰æ—¶é—´
        document.getElementById('currentTime').textContent = new Date().toLocaleString('zh-CN');
        
        // æ‰‹åŠ¨å®ç°æœ€å°åŒ–çš„æµ‹è¯•å‡½æ•°ï¼ˆé¿å…æ¨¡å—å¯¼å…¥é—®é¢˜ï¼‰
        window.testCase = function(input) {
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML += `<h3>æµ‹è¯•: "${input}"</h3>`;
            
            try {
                // è¿™é‡Œæˆ‘ä»¬ä¼šæ‰‹åŠ¨æ¨¡æ‹Ÿè§£æé€»è¾‘æ¥éªŒè¯ä¿®å¤
                const hasDateKeyword = ['ä¸‹å‘¨ä¸‰', 'æ˜å¤©', 'åå¤©', 'å¤§åå¤©'].some(kw => input.includes(kw));
                const timeMatch = input.match(/([0-9é›¶ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹å]+)(?:ç‚¹|:)([åŠ0-9é›¶ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹å]*)/);
                
                if (hasDateKeyword && timeMatch) {
                    resultsDiv.innerHTML += `<p style="color: green;">âœ… åº”è¯¥åŒ¹é…æˆåŠŸ - åŒ…å«æ—¥æœŸè¯ + æ—¶é—´è¡¨è¾¾</p>`;
                    resultsDiv.innerHTML += `<p>- æ£€æµ‹åˆ°æ—¥æœŸå…³é”®è¯: ${['ä¸‹å‘¨ä¸‰', 'æ˜å¤©', 'åå¤©', 'å¤§åå¤©'].find(kw => input.includes(kw))}</p>`;
                    resultsDiv.innerHTML += `<p>- æ£€æµ‹åˆ°æ—¶é—´è¡¨è¾¾: ${timeMatch[0]}</p>`;
                    resultsDiv.innerHTML += `<p>ğŸ“ è¿™è¡¨æ˜æˆ‘ä»¬çš„ä¿®å¤åº”è¯¥èƒ½å¤„ç†è¿™ç§ç»„åˆ</p>`;
                } else if (hasDateKeyword) {
                    resultsDiv.innerHTML += `<p style="color: blue;">â„¹ï¸ åªæœ‰æ—¥æœŸï¼Œæ²¡æœ‰æ—¶é—´ - æ­£å¸¸æƒ…å†µ</p>`;
                } else {
                    resultsDiv.innerHTML += `<p style="color: orange;">âš ï¸ æœªæ£€æµ‹åˆ°å·²çŸ¥æ—¥æœŸå…³é”®è¯</p>`;
                }
                
                // éªŒè¯æ—¶é—´è§£æé€»è¾‘
                if (timeMatch) {
                    const hourStr = timeMatch[1];
                    const minuteStr = timeMatch[2];
                    
                    // ç®€åŒ–çš„ä¸­æ–‡æ•°å­—è½¬æ¢ï¼ˆä»…ç”¨äºæµ‹è¯•ï¼‰
                    const chineseMap = {'é›¶':0,'ä¸€':1,'äºŒ':2,'ä¸‰':3,'å››':4,'äº”':5,'å…­':6,'ä¸ƒ':7,'å…«':8,'ä¹':9,'å':10};
                    let hour = 0;
                    if (/^\d+$/.test(hourStr)) {
                        hour = parseInt(hourStr);
                    } else if (chineseMap[hourStr]) {
                        hour = chineseMap[hourStr];
                    }
                    
                    let minute = 0;
                    if (minuteStr === 'åŠ') minute = 30;
                    else if (/^\d+$/.test(minuteStr)) minute = parseInt(minuteStr);
                    
                    resultsDiv.innerHTML += `<p>ğŸ• è§£ææ—¶é—´: ${hour}:${minute.toString().padStart(2,'0')}</p>`;
                }
                
                resultsDiv.innerHTML += `<hr>`;
                
            } catch (error) {
                resultsDiv.innerHTML += `<p style="color: red;">âŒ æµ‹è¯•é”™è¯¯: ${error.message}</p><hr>`;
            }
        };
    </script>
</body>
</html>